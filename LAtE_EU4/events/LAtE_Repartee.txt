##############################
# Repartee (Reformation)     #
# Events                     #
# Written by Technecian 	 #
##############################

namespace = repartee

#0-10 Opening and Control of Texas/Chicago

#Debugging event for values
country_event = {
	id = repartee.0
	title = repartee.0.t
	desc = repartee.0.d

	is_triggered_only = yes

	option = {
		name = repartee.0.o
	}
}

#The Old World is Discovered, the Repartee Begins
country_event = {
	id = repartee.1
	title = repartee.1.t
	desc = {
		trigger = {
			religion = catholic
		}
		desc = repartee.1.catholic.d
	}
	desc = {
		trigger = {
			OR = {
				religion = ursuline
				religion = anglican
			}
		}
		desc = repartee.1.canadian.d
	}
	desc = {
		trigger = {
			religion = protestant
		}
		desc = repartee.1.protestant.d
	}
	desc = {
		trigger = {
			religion_group = oldworld
		}
		desc = repartee.1.oldworld.d
	}
	desc = {
		trigger = {
			OR = {
				religion_group = afro_syncretic
				religion_group = cult_of_saints
			}
		}
		desc = repartee.1.latin.d
	}
	picture = RELIGION_eventPicture

	trigger = {
		LAtE_repartee_contender_trigger = yes
		europe_superregion = { #Think about what provinces should count
			has_discovered = ROOT
		}
	}

	fire_only_once = yes

	mean_time_to_happen = {
		months = 4
	}

	immediate = {
		set_global_flag = repartee_begins_flag
		hidden_effect = {
			REB = {
				set_variable = {
					which = catholicReparteeVariable
					value = 0
				}
				set_variable = {
					which = canadianReparteeVariable
					value = 0
				}
				set_variable = {
					which = protestantReparteeVariable
					value = 0
				}
				set_variable = {
					which = oldworldReparteeVariable
					value = 0
				}
				set_variable = {
					which = latinReparteeVariable
					value = 0
				}
			}			
		}
	}

	option = {
		name = repartee.1.catholic.o
		trigger = {
			religion = catholic
		}
		repartee_increment_effect = { catholic = yes }
	}

	option = {
		name = repartee.1.canadian.o
		trigger = {
			OR = {
				religion = ursuline
				religion = anglican
			}	
		}
		repartee_increment_effect = { canadian = yes }
	}

	option = {
		name = repartee.1.protestant.o
		trigger = {
			religion = protestant
		}
		repartee_increment_effect = { protestant = yes }
	}

	option = {
		name = repartee.1.oldworld.o
		trigger = {
			religion_group = oldworld
		}
		repartee_increment_effect = { oldworld = yes }
	}

	option = {
		name = repartee.1.latin.o
		trigger = {
			OR = {
				religion_group = afro_syncretic
				religion_group = cult_of_saints
			}
		}
		repartee_increment_effect = { latin = yes }
	}

	after = {
		every_country = {
			limit = {
				LAtE_repartee_contender_trigger = yes
			}
			country_event = {
				id = repartee.2
				days = 60 
			}
		}
	}
}

#Repartee begins announcement
country_event = {
	id = repartee.2
	title = repartee.2.t
	desc = {
		trigger = {
			religion = catholic
		}
		desc = repartee.2.catholic.d
	}
	desc = {
		trigger = {
			OR = {
				religion = ursuline
				religion = anglican
			}
		}
		desc = repartee.2.canadian.d
	}
	desc = {
		trigger = {
			religion = protestant
		}
		desc = repartee.2.protestant.d
	}
	desc = {
		trigger = {
			religion_group = oldworld
		}
		desc = repartee.2.oldworld.d
	}
	desc = {
		trigger = {
			OR = {
				religion_group = afro_syncretic
				religion_group = cult_of_saints
			}
		}
		desc = repartee.2.latin.d
	}
	picture = RELIGION_eventPicture

	is_triggered_only = yes

	option = {
		name = repartee.2.catholic.o
		trigger = {
			religion = catholic
		}
	}

	option = {
		name = repartee.2.canadian.o
		trigger = {
			OR = {
				religion = ursuline
				religion = anglican
			}	
		}
	}

	option = {
		name = repartee.2.protestant.o
		trigger = {
			religion = protestant
		}
	}

	option = {
		name = repartee.2.oldworld.o
		trigger = {
			religion_group = oldworld
		}
	}

	option = {
		name = repartee.2.latin.o
		trigger = {
			OR = {
				religion_group = afro_syncretic
				religion_group = cult_of_saints
			}
		}
	}
}